Архитектура сервиса:

Основные компоненты сервиса:

1. фронтенд веб-сервиса – интерфейс для доступа пользователей к сервису

2. База данных – хранит все данные приложения.

3. API – нужно для взаимодействия между фронтендом и базой данных.


Таблицы:

1. Таблица Пользователей:
- id – уникальный идентификатор пользователя
- username – имя пользователя
- email – email пользователя
- password – пароль пользователя
- phone – телефон пользователя
  (в апи выводить количество отзывов и среднюю оценку)
  (валидация номера телефона)

2. Таблица Поездок:
- id – уникальный идентификатор поездки
- user_id – уникальный идентификатор пользователя (пассажира или водителя)
- price - цена поездки
- start_location – начальное местоположение
- end_location – конечное местоположение
- start_at – время начала поездки
- end_at – время окончания поездки
- status – статус поездки

3. Таблица отзывов:
- id – уникальный идентификатор отзыва
- passenger_id – уникальный идентификатор пассажира
- driver_id – уникальный идентификатор водителя
- role - роль в данном отзыве (водитель или  пассажир)
- text – текст отзыва
- rating – оценка пользователя

4. Таблица машины 
- id – уникальный идентификатор
- driver_id – уникальный идентификатор водителя
- description – полная информация о машине

5. Таблица чата между пользователями 
- id – уникальный идентификатор
- driver_id – уникальный идентификатор водителя
- passenger_id – уникальный идентификатор пассажира

6. Таблица сообщений чата между пользователями 
- id – уникальный идентификатор
- chat_id – уникальный идентификатор чата
- user_id - уникальный идентификатор пользователя
- text – текст сообщения
- time – время отправки

Примерная блок-схема находится ![тут](/images/service_schema.jpeg)

Сценарии:

1. Пользователь регистрируется на сайте, вводит свои данные.

2. Водитель создает поездку.

3. Пассажир бронирует место.

4. Водитель подтверждает бронирование.

5. После поездки пассажир и водитель оставляют друг другу отзывы, которые затем формируют их рейтинги.

6. Для получения какой-либо информации водитель и пользователь могут создать чат.

Общие принципы:

- Архитектура сервиса должна быть масштабируемой и надежной.

- Должна быть возможность быстрого и удобного поиска поездок в базе данных.

- Необходимо подключить сервис для логгирования ошибок(например rollbar или sentry).


Развертывание проекта:
- Создайте виртуальное окружение
- Активируйте виртуальное окружение
- Установите необходимые для работы сайта библиотеки командой ```pip install -r requirements.txt```
- Создайте файл ```.env``` и укажите в нём переменные среды с нужными значениями
- Перейдите в директорию ```ride_service_app``` и запустите проект ```uvicorn main:app --reload```